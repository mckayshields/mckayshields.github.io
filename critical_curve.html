<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Complex Map</title>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <!-- math.js for complex arithmetic -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .slider-container { margin-bottom: 10px; }
    label { margin-right: 8px; }
  </style>
</head>
<body>

  <h2>Interactive Complex Map of \( p(z) = z^k + \overline{g(z)}\)</h2>

  <div class="slider-container">
    <label for="cSlider">c: <span id="cVal">0.6</span></label>
    <input id="cSlider" type="range" min="0.1" max="10" step="0.1" value="0.6">
  </div>

  <div class="slider-container">
    <label for="kSlider">k: <span id="kVal">8</span></label>
    <input id="kSlider" type="range" min="1" max="10" step="1" value="8">
  </div>

  <div class="slider-container">
    <label for="jSlider">j: <span id="jVal">1</span></label>
    <input id="jSlider" type="range" min="1" max="10" step="1" value="1">
  </div>

  <div id="plot" style="width:600px; height:600px;"></div>

  <script>
    // grab elements
    const cSlider = document.getElementById('cSlider');
    const kSlider = document.getElementById('kSlider');
    const jSlider = document.getElementById('jSlider');
    const cVal = document.getElementById('cVal');
    const kVal = document.getElementById('kVal');
    const jVal = document.getElementById('jVal');

    // function definitions
    function computeP(c, k, j) {
      const N = 500;
      const points = [];
      const crit = Math.pow(c, -1/j);

      for (let i = 0; i < N; i++) {
        const theta = 2 * Math.PI * i / N;
        // Z = crit * e^{i theta}
        const Z = math.complex({
          re: crit * Math.cos(theta),
          im: crit * Math.sin(theta)
        });
        // f = Z^k
        const f = math.pow(Z, k);
        // g =
